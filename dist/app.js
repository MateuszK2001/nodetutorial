/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/app.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/app.ts":
/*!********************!*\
  !*** ./src/app.ts ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! body-parser */ \"body-parser\");\n/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(body_parser__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _routes_admin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./routes/admin */ \"./src/routes/admin.ts\");\n/* harmony import */ var _routes_shop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./routes/shop */ \"./src/routes/shop.ts\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _controllers_errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./controllers/errors */ \"./src/controllers/errors.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst app = express__WEBPACK_IMPORTED_MODULE_0___default()();\r\napp.set('view engine', 'ejs');\r\napp.set('views', Object(path__WEBPACK_IMPORTED_MODULE_4__[\"resolve\"])('views'));\r\napp.use(body_parser__WEBPACK_IMPORTED_MODULE_1___default.a.urlencoded({ extended: true }));\r\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default.a.static(Object(path__WEBPACK_IMPORTED_MODULE_4__[\"resolve\"])('public')));\r\napp.use('/admin', _routes_admin__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\napp.use(_routes_shop__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\r\napp.use(_controllers_errors__WEBPACK_IMPORTED_MODULE_5__[\"use404\"]);\r\napp.listen(3000);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzPzA2NmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBOEI7QUFDTztBQUNJO0FBQ0Y7QUFDUjtBQUMwQjtBQU16RCxNQUFNLEdBQUcsR0FBRyw4Q0FBTyxFQUFFLENBQUM7QUFFdEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDOUIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsb0RBQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBRW5DLEdBQUcsQ0FBQyxHQUFHLENBQUMsa0RBQVUsQ0FBQyxVQUFVLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pELEdBQUcsQ0FBQyxHQUFHLENBQUMsOENBQU8sQ0FBQyxNQUFNLENBQUMsb0RBQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFM0MsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUscURBQVcsQ0FBQyxDQUFDO0FBQy9CLEdBQUcsQ0FBQyxHQUFHLENBQUMsb0RBQVUsQ0FBQyxDQUFDO0FBRXBCLEdBQUcsQ0FBQyxHQUFHLENBQUMsMERBQXVCLENBQUMsQ0FBQztBQUtqQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDIiwiZmlsZSI6Ii4vc3JjL2FwcC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcbmltcG9ydCBhZG1pblJvdXRlciBmcm9tICcuL3JvdXRlcy9hZG1pbic7XHJcbmltcG9ydCBzaG9wUm91dGVyIGZyb20gJy4vcm91dGVzL3Nob3AnO1xyXG5pbXBvcnQgeyByZXNvbHZlIH0gZnJvbSAncGF0aCc7XHJcbmltcG9ydCAqIGFzIGVycm9yc0NvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVycy9lcnJvcnMnO1xyXG5pbXBvcnQgVHV0b3JpYWxEYXRhYmFzZSBmcm9tICcuL3V0aWwvZGF0YWJhc2UnO1xyXG5pbXBvcnQgKiBhcyByZWFkbGluZSBmcm9tICdyZWFkbGluZSc7XHJcblxyXG5cclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ2VqcycpO1xyXG5hcHAuc2V0KCd2aWV3cycsIHJlc29sdmUoJ3ZpZXdzJykpO1xyXG5cclxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoe2V4dGVuZGVkOiB0cnVlfSkpO1xyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHJlc29sdmUoJ3B1YmxpYycpKSk7XHJcblxyXG5hcHAudXNlKCcvYWRtaW4nLCBhZG1pblJvdXRlcik7XHJcbmFwcC51c2Uoc2hvcFJvdXRlcik7XHJcblxyXG5hcHAudXNlKGVycm9yc0NvbnRyb2xsZXIudXNlNDA0KTtcclxuXHJcblxyXG5cclxuXHJcbmFwcC5saXN0ZW4oMzAwMCk7XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/app.ts\n");

/***/ }),

/***/ "./src/controllers/admin.ts":
/*!**********************************!*\
  !*** ./src/controllers/admin.ts ***!
  \**********************************/
/*! exports provided: getAddProduct, postAddProduct, getAdminProducts, getEditProduct, postEditProduct, postDeleteProduct */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAddProduct\", function() { return getAddProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postAddProduct\", function() { return postAddProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAdminProducts\", function() { return getAdminProducts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEditProduct\", function() { return getEditProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postEditProduct\", function() { return postEditProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postDeleteProduct\", function() { return postDeleteProduct; });\n/* harmony import */ var _models_product__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/product */ \"./src/models/product.ts\");\n/* harmony import */ var _models_products__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/products */ \"./src/models/products.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nconst getAddProduct = (req, res, next) => {\r\n    res.render('admin/edit-product', {\r\n        docTitle: 'Add Product',\r\n        path: '/admin/edit-product'\r\n    });\r\n};\r\nconst postAddProduct = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const product = new _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n        title: req.body.title,\r\n        description: req.body.description,\r\n        price: Number(req.body.price),\r\n        imgSrc: req.body.imgsrc\r\n    });\r\n    yield _models_products__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(product);\r\n    res.redirect('/');\r\n});\r\nconst getAdminProducts = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    res.render('admin/products', {\r\n        products: yield _models_products__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fetchAll(),\r\n        docTitle: 'Admin Products',\r\n        path: '/admin/products'\r\n    });\r\n});\r\nconst getEditProduct = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const id = req.params.id;\r\n    const product = yield _models_products__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(id);\r\n    res.render('admin/edit-product', {\r\n        docTitle: 'Edit product',\r\n        path: '/admin/edit-product',\r\n        product: product\r\n    });\r\n});\r\nconst postEditProduct = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const id = req.params.id;\r\n    const product = new _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n        id: id,\r\n        title: req.body.title,\r\n        description: req.body.description,\r\n        price: Number(req.body.price),\r\n        imgSrc: req.body.imgsrc\r\n    });\r\n    yield _models_products__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(product);\r\n    res.redirect('/admin/products');\r\n});\r\nconst postDeleteProduct = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const id = req.params.id;\r\n    yield _models_products__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(id);\r\n    res.redirect('/admin/products');\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYWRtaW4udHM/NmU5MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDd0M7QUFDRTtBQUduQyxNQUFNLGFBQWEsR0FBRyxDQUFDLEdBQVcsRUFBRSxHQUFZLEVBQUUsSUFBaUIsRUFBRSxFQUFFO0lBQzFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUU7UUFDN0IsUUFBUSxFQUFFLGFBQWE7UUFDdkIsSUFBSSxFQUFFLHFCQUFxQjtLQUFDLENBQUMsQ0FBQztBQUN0QyxDQUFDLENBQUM7QUFDSyxNQUFNLGNBQWMsR0FBRyxDQUFPLEdBQVcsRUFBRSxHQUFZLEVBQUUsSUFBaUIsRUFBRSxFQUFFO0lBQ2pGLE1BQU0sT0FBTyxHQUFHLElBQUksdURBQU8sQ0FBQztRQUN4QixLQUFLLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLO1FBQ3JCLFdBQVcsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVc7UUFDakMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUM3QixNQUFNLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNO0tBQUMsQ0FBQyxDQUFDO0lBQzlCLE1BQU0sd0RBQVEsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDNUIsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN0QixDQUFDLEVBQUM7QUFDSyxNQUFNLGdCQUFnQixHQUFHLENBQU8sR0FBVyxFQUFFLEdBQVksRUFBRSxJQUFpQixFQUFFLEVBQUU7SUFDbkYsR0FBRyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRTtRQUN6QixRQUFRLEVBQUUsTUFBTSx3REFBUSxDQUFDLFFBQVEsRUFBRTtRQUNuQyxRQUFRLEVBQUUsZ0JBQWdCO1FBQzFCLElBQUksRUFBRSxpQkFBaUI7S0FDMUIsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxFQUFDO0FBQ0ssTUFBTSxjQUFjLEdBQUcsQ0FBTyxHQUFXLEVBQUUsR0FBWSxFQUFFLElBQWlCLEVBQUUsRUFBRTtJQUNqRixNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztJQUN6QixNQUFNLE9BQU8sR0FBRyxNQUFNLHdEQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZDLEdBQUcsQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUU7UUFDN0IsUUFBUSxFQUFFLGNBQWM7UUFDeEIsSUFBSSxFQUFFLHFCQUFxQjtRQUMzQixPQUFPLEVBQUUsT0FBTztLQUFDLENBQUMsQ0FBQztBQUMzQixDQUFDLEVBQUM7QUFDSyxNQUFNLGVBQWUsR0FBRyxDQUFPLEdBQVcsRUFBRSxHQUFZLEVBQUUsSUFBaUIsRUFBRSxFQUFFO0lBQ2xGLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO0lBQ3pCLE1BQU0sT0FBTyxHQUFHLElBQUksdURBQU8sQ0FBQztRQUN4QixFQUFFLEVBQUUsRUFBRTtRQUNOLEtBQUssRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUs7UUFDckIsV0FBVyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVztRQUNqQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQzdCLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU07S0FBQyxDQUFDLENBQUM7SUFFOUIsTUFBTSx3REFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixHQUFHLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDcEMsQ0FBQyxFQUFDO0FBQ0ssTUFBTSxpQkFBaUIsR0FBRyxDQUFPLEdBQVcsRUFBRSxHQUFZLEVBQUUsSUFBaUIsRUFBRSxFQUFFO0lBQ3BGLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO0lBQ3pCLE1BQU0sd0RBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDMUIsR0FBRyxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3BDLENBQUMiLCJmaWxlIjoiLi9zcmMvY29udHJvbGxlcnMvYWRtaW4udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0RnVuY3Rpb24sIFJlc3BvbnNlLCBSZXF1ZXN0IH0gZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0XCI7XHJcbmltcG9ydCBQcm9kdWN0cyBmcm9tIFwiLi4vbW9kZWxzL3Byb2R1Y3RzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGdldEFkZFByb2R1Y3QgPSAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDpOZXh0RnVuY3Rpb24pID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2FkbWluL2VkaXQtcHJvZHVjdCcsIHtcclxuICAgICAgICBkb2NUaXRsZTogJ0FkZCBQcm9kdWN0JywgXHJcbiAgICAgICAgcGF0aDogJy9hZG1pbi9lZGl0LXByb2R1Y3QnfSk7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBwb3N0QWRkUHJvZHVjdCA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlLCBuZXh0Ok5leHRGdW5jdGlvbikgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcclxuICAgICAgICB0aXRsZTogcmVxLmJvZHkudGl0bGUsIFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiByZXEuYm9keS5kZXNjcmlwdGlvbiwgXHJcbiAgICAgICAgcHJpY2U6IE51bWJlcihyZXEuYm9keS5wcmljZSksIFxyXG4gICAgICAgIGltZ1NyYzogcmVxLmJvZHkuaW1nc3JjfSk7XHJcbiAgICBhd2FpdCBQcm9kdWN0cy5hZGQocHJvZHVjdCk7XHJcbiAgICByZXMucmVkaXJlY3QoJy8nKTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGdldEFkbWluUHJvZHVjdHMgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDpOZXh0RnVuY3Rpb24pID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2FkbWluL3Byb2R1Y3RzJywge1xyXG4gICAgICAgIHByb2R1Y3RzOiBhd2FpdCBQcm9kdWN0cy5mZXRjaEFsbCgpLCBcclxuICAgICAgICBkb2NUaXRsZTogJ0FkbWluIFByb2R1Y3RzJywgXHJcbiAgICAgICAgcGF0aDogJy9hZG1pbi9wcm9kdWN0cydcclxuICAgIH0pO1xyXG59O1xyXG5leHBvcnQgY29uc3QgZ2V0RWRpdFByb2R1Y3QgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDpOZXh0RnVuY3Rpb24pID0+IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0cy5nZXQoaWQpO1xyXG4gICAgcmVzLnJlbmRlcignYWRtaW4vZWRpdC1wcm9kdWN0Jywge1xyXG4gICAgICAgIGRvY1RpdGxlOiAnRWRpdCBwcm9kdWN0JywgXHJcbiAgICAgICAgcGF0aDogJy9hZG1pbi9lZGl0LXByb2R1Y3QnLFxyXG4gICAgICAgIHByb2R1Y3Q6IHByb2R1Y3R9KTtcclxufTtcclxuZXhwb3J0IGNvbnN0IHBvc3RFZGl0UHJvZHVjdCA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlLCBuZXh0Ok5leHRGdW5jdGlvbikgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcclxuICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgdGl0bGU6IHJlcS5ib2R5LnRpdGxlLCBcclxuICAgICAgICBkZXNjcmlwdGlvbjogcmVxLmJvZHkuZGVzY3JpcHRpb24sIFxyXG4gICAgICAgIHByaWNlOiBOdW1iZXIocmVxLmJvZHkucHJpY2UpLCBcclxuICAgICAgICBpbWdTcmM6IHJlcS5ib2R5LmltZ3NyY30pO1xyXG5cclxuICAgIGF3YWl0IFByb2R1Y3RzLnVwZGF0ZShwcm9kdWN0KTtcclxuICAgIHJlcy5yZWRpcmVjdCgnL2FkbWluL3Byb2R1Y3RzJyk7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBwb3N0RGVsZXRlUHJvZHVjdCA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlLCBuZXh0Ok5leHRGdW5jdGlvbikgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgYXdhaXQgUHJvZHVjdHMucmVtb3ZlKGlkKTtcclxuICAgIHJlcy5yZWRpcmVjdCgnL2FkbWluL3Byb2R1Y3RzJyk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/controllers/admin.ts\n");

/***/ }),

/***/ "./src/controllers/errors.ts":
/*!***********************************!*\
  !*** ./src/controllers/errors.ts ***!
  \***********************************/
/*! exports provided: use404 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"use404\", function() { return use404; });\nconst use404 = (req, res, next) => {\r\n    res.status(404).render('404', { docTitle: \"Page Not Found\", path: \"\" });\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvZXJyb3JzLnRzPzJiMjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFPLE1BQU0sTUFBTSxHQUFHLENBQUMsR0FBVyxFQUFFLEdBQVksRUFBRSxJQUFpQixFQUFFLEVBQUU7SUFDbkUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxFQUFFLEVBQUMsQ0FBQyxDQUFDO0FBQzFFLENBQUMiLCJmaWxlIjoiLi9zcmMvY29udHJvbGxlcnMvZXJyb3JzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEZ1bmN0aW9uLCBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gXCJleHByZXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgdXNlNDA0ID0gKHJlcTpSZXF1ZXN0LCByZXM6UmVzcG9uc2UsIG5leHQ6TmV4dEZ1bmN0aW9uKSA9PiB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkucmVuZGVyKCc0MDQnLCB7ZG9jVGl0bGU6IFwiUGFnZSBOb3QgRm91bmRcIiwgcGF0aDogXCJcIn0pO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/controllers/errors.ts\n");

/***/ }),

/***/ "./src/controllers/shop.ts":
/*!*********************************!*\
  !*** ./src/controllers/shop.ts ***!
  \*********************************/
/*! exports provided: getIndex, getProducts, getCart, postCart, getCheckout, getOrders, getProduct, postCartDeleteItem, postCartDeleteItems */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIndex\", function() { return getIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getProducts\", function() { return getProducts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCart\", function() { return getCart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postCart\", function() { return postCart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCheckout\", function() { return getCheckout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOrders\", function() { return getOrders; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getProduct\", function() { return getProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postCartDeleteItem\", function() { return postCartDeleteItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"postCartDeleteItems\", function() { return postCartDeleteItems; });\n/* harmony import */ var _models_products__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/products */ \"./src/models/products.ts\");\n/* harmony import */ var _models_cart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/cart */ \"./src/models/cart.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n//// USERS\r\nconst getIndex = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    res.render('shop/index', {\r\n        products: yield _models_products__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fetchAll(),\r\n        docTitle: 'My Shop',\r\n        path: '/shop/index'\r\n    });\r\n});\r\nconst getProducts = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    res.render('shop/product-list', {\r\n        products: yield _models_products__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fetchAll(),\r\n        docTitle: 'Products',\r\n        path: '/shop/product-list'\r\n    });\r\n});\r\nconst getCart = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const cartData = yield _models_cart__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getProducts();\r\n    res.render('shop/cart', {\r\n        // products: await Product.fetchAll(), \r\n        docTitle: 'My Cart',\r\n        path: '/shop/cart',\r\n        cart: cartData\r\n    });\r\n});\r\nconst postCart = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const id = req.body.productId;\r\n    const product = yield _models_products__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(id);\r\n    yield _models_cart__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(product);\r\n    res.redirect(\"/cart\");\r\n});\r\nconst getCheckout = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    res.render('shop/checkout', {\r\n        // products: await Product.fetchAll(), \r\n        docTitle: 'My Cart',\r\n        path: '/shop/checkout'\r\n    });\r\n});\r\nconst getOrders = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    res.render('shop/orders', {\r\n        // products: await Product.fetchAll(), \r\n        docTitle: 'My orders',\r\n        path: '/shop/orders'\r\n    });\r\n});\r\nconst getProduct = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const id = req.params.id;\r\n    const product = yield _models_products__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(id);\r\n    res.render('shop/product-detail', {\r\n        product: yield product,\r\n        docTitle: product.title,\r\n        path: '/shop/products'\r\n    });\r\n});\r\nconst postCartDeleteItem = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const id = req.body.id;\r\n    const product = yield _models_products__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(id);\r\n    yield _models_cart__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeProduct(product);\r\n    res.redirect(\"/cart\");\r\n});\r\nconst postCartDeleteItems = (req, res, next) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const id = req.body.id;\r\n    const product = yield _models_products__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(id);\r\n    yield _models_cart__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeProducts(id, product.price);\r\n    res.redirect(\"/cart\");\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvc2hvcC50cz85OWNjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUUwQztBQUNSO0FBRWxDLFVBQVU7QUFFSCxNQUFNLFFBQVEsR0FBRyxDQUFPLEdBQVcsRUFBRSxHQUFZLEVBQUUsSUFBaUIsRUFBRSxFQUFFO0lBQzNFLEdBQUcsQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFO1FBQ3JCLFFBQVEsRUFBRSxNQUFNLHdEQUFRLENBQUMsUUFBUSxFQUFFO1FBQ25DLFFBQVEsRUFBRSxTQUFTO1FBQ25CLElBQUksRUFBRSxhQUFhO0tBQ3RCLENBQUMsQ0FBQztBQUNQLENBQUMsRUFBQztBQUVLLE1BQU0sV0FBVyxHQUFHLENBQU8sR0FBVyxFQUFFLEdBQVksRUFBRSxJQUFpQixFQUFFLEVBQUU7SUFDOUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRTtRQUM1QixRQUFRLEVBQUUsTUFBTSx3REFBUSxDQUFDLFFBQVEsRUFBRTtRQUNuQyxRQUFRLEVBQUUsVUFBVTtRQUNwQixJQUFJLEVBQUUsb0JBQW9CO0tBQzdCLENBQUMsQ0FBQztBQUNQLENBQUMsRUFBQztBQUVLLE1BQU0sT0FBTyxHQUFHLENBQU8sR0FBVyxFQUFFLEdBQVksRUFBRSxJQUFpQixFQUFFLEVBQUU7SUFDMUUsTUFBTSxRQUFRLEdBQUcsTUFBTSxvREFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBRTFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFO1FBQ3BCLHVDQUF1QztRQUN2QyxRQUFRLEVBQUUsU0FBUztRQUNuQixJQUFJLEVBQUUsWUFBWTtRQUNsQixJQUFJLEVBQUUsUUFBUTtLQUNqQixDQUFDLENBQUM7QUFDUCxDQUFDLEVBQUM7QUFDSyxNQUFNLFFBQVEsR0FBRyxDQUFPLEdBQVcsRUFBRSxHQUFZLEVBQUUsSUFBaUIsRUFBRSxFQUFFO0lBQzNFLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzlCLE1BQU0sT0FBTyxHQUFHLE1BQU0sd0RBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDdkMsTUFBTSxvREFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN4QixHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzFCLENBQUMsRUFBQztBQUNLLE1BQU0sV0FBVyxHQUFHLENBQU8sR0FBVyxFQUFFLEdBQVksRUFBRSxJQUFpQixFQUFFLEVBQUU7SUFDOUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUU7UUFDeEIsdUNBQXVDO1FBQ3ZDLFFBQVEsRUFBRSxTQUFTO1FBQ25CLElBQUksRUFBRSxnQkFBZ0I7S0FDekIsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxFQUFDO0FBQ0ssTUFBTSxTQUFTLEdBQUcsQ0FBTyxHQUFXLEVBQUUsR0FBWSxFQUFFLElBQWlCLEVBQUUsRUFBRTtJQUM1RSxHQUFHLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRTtRQUN0Qix1Q0FBdUM7UUFDdkMsUUFBUSxFQUFFLFdBQVc7UUFDckIsSUFBSSxFQUFFLGNBQWM7S0FDdkIsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxFQUFDO0FBRUssTUFBTSxVQUFVLEdBQUcsQ0FBTyxHQUFXLEVBQUUsR0FBWSxFQUFFLElBQWlCLEVBQUUsRUFBRTtJQUM3RSxNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztJQUN6QixNQUFNLE9BQU8sR0FBRyxNQUFNLHdEQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZDLEdBQUcsQ0FBQyxNQUFNLENBQUMscUJBQXFCLEVBQUU7UUFDOUIsT0FBTyxFQUFFLE1BQU0sT0FBTztRQUN0QixRQUFRLEVBQUUsT0FBTyxDQUFDLEtBQUs7UUFDdkIsSUFBSSxFQUFFLGdCQUFnQjtLQUN6QixDQUFDLENBQUM7QUFDUCxDQUFDLEVBQUM7QUFHSyxNQUFNLGtCQUFrQixHQUFHLENBQU8sR0FBVyxFQUFFLEdBQVksRUFBRSxJQUFpQixFQUFFLEVBQUU7SUFDckYsTUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDdkIsTUFBTSxPQUFPLEdBQUcsTUFBTSx3REFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN2QyxNQUFNLG9EQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2xDLEdBQUcsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDMUIsQ0FBQztBQUNNLE1BQU0sbUJBQW1CLEdBQUcsQ0FBTyxHQUFXLEVBQUUsR0FBWSxFQUFFLElBQWlCLEVBQUUsRUFBRTtJQUN0RixNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztJQUN2QixNQUFNLE9BQU8sR0FBRyxNQUFNLHdEQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sb0RBQUksQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3QyxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzFCLENBQUMiLCJmaWxlIjoiLi9zcmMvY29udHJvbGxlcnMvc2hvcC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciwgTmV4dEZ1bmN0aW9uLCBSZXNwb25zZSwgUmVxdWVzdCB9IGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBQcm9kdWN0IGZyb20gXCIuLi9tb2RlbHMvcHJvZHVjdFwiO1xyXG5pbXBvcnQgUHJvZHVjdHMgZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0c1wiO1xyXG5pbXBvcnQgQ2FydCBmcm9tIFwiLi4vbW9kZWxzL2NhcnRcIjtcclxuXHJcbi8vLy8gVVNFUlNcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRJbmRleCA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlLCBuZXh0Ok5leHRGdW5jdGlvbikgPT4ge1xyXG4gICAgcmVzLnJlbmRlcignc2hvcC9pbmRleCcsIHtcclxuICAgICAgICBwcm9kdWN0czogYXdhaXQgUHJvZHVjdHMuZmV0Y2hBbGwoKSwgXHJcbiAgICAgICAgZG9jVGl0bGU6ICdNeSBTaG9wJywgXHJcbiAgICAgICAgcGF0aDogJy9zaG9wL2luZGV4J1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdHMgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDpOZXh0RnVuY3Rpb24pID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ3Nob3AvcHJvZHVjdC1saXN0Jywge1xyXG4gICAgICAgIHByb2R1Y3RzOiBhd2FpdCBQcm9kdWN0cy5mZXRjaEFsbCgpLCBcclxuICAgICAgICBkb2NUaXRsZTogJ1Byb2R1Y3RzJywgXHJcbiAgICAgICAgcGF0aDogJy9zaG9wL3Byb2R1Y3QtbGlzdCdcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldENhcnQgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDpOZXh0RnVuY3Rpb24pID0+IHtcclxuICAgIGNvbnN0IGNhcnREYXRhID0gYXdhaXQgQ2FydC5nZXRQcm9kdWN0cygpO1xyXG5cclxuICAgIHJlcy5yZW5kZXIoJ3Nob3AvY2FydCcsIHtcclxuICAgICAgICAvLyBwcm9kdWN0czogYXdhaXQgUHJvZHVjdC5mZXRjaEFsbCgpLCBcclxuICAgICAgICBkb2NUaXRsZTogJ015IENhcnQnLCBcclxuICAgICAgICBwYXRoOiAnL3Nob3AvY2FydCcsXHJcbiAgICAgICAgY2FydDogY2FydERhdGFcclxuICAgIH0pO1xyXG59O1xyXG5leHBvcnQgY29uc3QgcG9zdENhcnQgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDpOZXh0RnVuY3Rpb24pID0+IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkucHJvZHVjdElkO1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3RzLmdldChpZCk7XHJcbiAgICBhd2FpdCBDYXJ0LmFkZChwcm9kdWN0KTtcclxuICAgIHJlcy5yZWRpcmVjdChcIi9jYXJ0XCIpO1xyXG59O1xyXG5leHBvcnQgY29uc3QgZ2V0Q2hlY2tvdXQgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDpOZXh0RnVuY3Rpb24pID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ3Nob3AvY2hlY2tvdXQnLCB7XHJcbiAgICAgICAgLy8gcHJvZHVjdHM6IGF3YWl0IFByb2R1Y3QuZmV0Y2hBbGwoKSwgXHJcbiAgICAgICAgZG9jVGl0bGU6ICdNeSBDYXJ0JywgXHJcbiAgICAgICAgcGF0aDogJy9zaG9wL2NoZWNrb3V0J1xyXG4gICAgfSk7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBnZXRPcmRlcnMgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDpOZXh0RnVuY3Rpb24pID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ3Nob3Avb3JkZXJzJywge1xyXG4gICAgICAgIC8vIHByb2R1Y3RzOiBhd2FpdCBQcm9kdWN0LmZldGNoQWxsKCksIFxyXG4gICAgICAgIGRvY1RpdGxlOiAnTXkgb3JkZXJzJywgXHJcbiAgICAgICAgcGF0aDogJy9zaG9wL29yZGVycydcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3QgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDpOZXh0RnVuY3Rpb24pID0+IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0cy5nZXQoaWQpO1xyXG4gICAgcmVzLnJlbmRlcignc2hvcC9wcm9kdWN0LWRldGFpbCcsIHtcclxuICAgICAgICBwcm9kdWN0OiBhd2FpdCBwcm9kdWN0LCBcclxuICAgICAgICBkb2NUaXRsZTogcHJvZHVjdC50aXRsZSwgXHJcbiAgICAgICAgcGF0aDogJy9zaG9wL3Byb2R1Y3RzJ1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHBvc3RDYXJ0RGVsZXRlSXRlbSA9IGFzeW5jIChyZXE6UmVxdWVzdCwgcmVzOlJlc3BvbnNlLCBuZXh0Ok5leHRGdW5jdGlvbikgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEuYm9keS5pZDtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0cy5nZXQoaWQpO1xyXG4gICAgYXdhaXQgQ2FydC5yZW1vdmVQcm9kdWN0KHByb2R1Y3QpO1xyXG4gICAgcmVzLnJlZGlyZWN0KFwiL2NhcnRcIik7XHJcbn1cclxuZXhwb3J0IGNvbnN0IHBvc3RDYXJ0RGVsZXRlSXRlbXMgPSBhc3luYyAocmVxOlJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDpOZXh0RnVuY3Rpb24pID0+IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQ7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdHMuZ2V0KGlkKTtcclxuICAgIGF3YWl0IENhcnQucmVtb3ZlUHJvZHVjdHMoaWQsIHByb2R1Y3QucHJpY2UpO1xyXG4gICAgcmVzLnJlZGlyZWN0KFwiL2NhcnRcIik7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/controllers/shop.ts\n");

/***/ }),

/***/ "./src/models/cart.ts":
/*!****************************!*\
  !*** ./src/models/cart.ts ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Cart; });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _products__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./products */ \"./src/models/products.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nconst filename = path__WEBPACK_IMPORTED_MODULE_1___default.a.resolve('data', 'cart.json');\r\nclass Cart {\r\n    constructor() {\r\n        this.productsId = {};\r\n        this.totalPrice = 0;\r\n    }\r\n    static _Init() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!Object(fs__WEBPACK_IMPORTED_MODULE_0__[\"existsSync\"])(filename)) {\r\n                yield fs__WEBPACK_IMPORTED_MODULE_0__[\"promises\"].writeFile(filename, JSON.stringify(new Cart()));\r\n            }\r\n        });\r\n    }\r\n    static loadCart() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const data = JSON.parse((yield fs__WEBPACK_IMPORTED_MODULE_0__[\"promises\"].readFile(filename)).toString());\r\n            const cart = new Cart();\r\n            cart.productsId = data.productsId;\r\n            cart.totalPrice = data.totalPrice;\r\n            return cart;\r\n        });\r\n    }\r\n    static saveCart(cart) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield fs__WEBPACK_IMPORTED_MODULE_0__[\"promises\"].writeFile(filename, JSON.stringify(cart));\r\n        });\r\n    }\r\n    static add(product) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const cart = yield Cart.loadCart();\r\n            cart.productsId[product.id] = 1 + (cart.productsId[product.id] ? 1 : 0);\r\n            cart.totalPrice += product.price;\r\n            yield Cart.saveCart(cart);\r\n        });\r\n    }\r\n    static removeProduct(product) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const cart = yield Cart.loadCart();\r\n            if (cart.productsId[product.id] === undefined || cart.productsId[product.id] === 0) {\r\n                throw new Error('ERROR: Cart remove - product id undefined or equal 0');\r\n            }\r\n            cart.productsId[product.id]--;\r\n            cart.totalPrice -= product.price;\r\n            if (cart.productsId[product.id] === 0)\r\n                delete cart.productsId[product.id];\r\n            yield Cart.saveCart(cart);\r\n        });\r\n    }\r\n    static removeProducts(id, singlePrice) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const cart = yield Cart.loadCart();\r\n            if (cart.productsId[id] === undefined || cart.productsId[id] === 0) {\r\n                return;\r\n            }\r\n            cart.totalPrice -= (singlePrice * cart.productsId[id]);\r\n            delete cart.productsId[id];\r\n            yield Cart.saveCart(cart);\r\n        });\r\n    }\r\n    static getProducts() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const cart = yield this.loadCart();\r\n            const allProducts = yield _products__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fetchAll();\r\n            const cartProducts = new Set(Object.keys(cart.productsId));\r\n            const results = allProducts\r\n                .filter(a => cartProducts.has(a.id))\r\n                .map(p => ({ product: p, cnt: cart.productsId[p.id] }));\r\n            return results;\r\n        });\r\n    }\r\n}\r\nCart._Init();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2NhcnQudHM/YWQ3NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQzhDO0FBQ3RCO0FBQ1U7QUFFbEMsTUFBTSxRQUFRLEdBQUcsMkNBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBRXBDLE1BQU0sSUFBSTtJQUF6QjtRQUNJLGVBQVUsR0FBd0IsRUFBRSxDQUFDO1FBQ3JDLGVBQVUsR0FBVSxDQUFDLENBQUM7SUFxRDFCLENBQUM7SUFwREcsTUFBTSxDQUFPLEtBQUs7O1lBQ2QsSUFBRyxDQUFDLHFEQUFVLENBQUMsUUFBUSxDQUFDLEVBQUM7Z0JBQ3JCLE1BQU0sMkNBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDNUQ7UUFDTCxDQUFDO0tBQUE7SUFDRCxNQUFNLENBQU8sUUFBUTs7WUFDakIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sMkNBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQ2xFLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztZQUNsQyxPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO0tBQUE7SUFDTyxNQUFNLENBQU8sUUFBUSxDQUFDLElBQVM7O1lBQ25DLE1BQU0sMkNBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN2RCxDQUFDO0tBQUE7SUFDRCxNQUFNLENBQU8sR0FBRyxDQUFDLE9BQWdCOztZQUM3QixNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNuQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBQyxFQUFDLEVBQUMsRUFBQyxDQUFDLENBQUM7WUFDcEUsSUFBSSxDQUFDLFVBQVUsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDO1lBQ2pDLE1BQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QixDQUFDO0tBQUE7SUFDRCxNQUFNLENBQU8sYUFBYSxDQUFDLE9BQWdCOztZQUN2QyxNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNuQyxJQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUM7Z0JBQzlFLE1BQU0sSUFBSSxLQUFLLENBQUMsc0RBQXNELENBQUMsQ0FBQzthQUMzRTtZQUNELElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDOUIsSUFBSSxDQUFDLFVBQVUsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDO1lBQ2pDLElBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztnQkFDaEMsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN2QyxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsQ0FBQztLQUFBO0lBQ0QsTUFBTSxDQUFPLGNBQWMsQ0FBQyxFQUFTLEVBQUUsV0FBbUI7O1lBQ3RELE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ25DLElBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsS0FBSyxTQUFTLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUM7Z0JBQzlELE9BQU87YUFDVjtZQUNELElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxXQUFXLEdBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3JELE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMzQixNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsQ0FBQztLQUFBO0lBRUQsTUFBTSxDQUFPLFdBQVc7O1lBQ3BCLE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQyxNQUFNLFdBQVcsR0FBRyxNQUFNLGlEQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDOUMsTUFBTSxZQUFZLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUMzRCxNQUFNLE9BQU8sR0FBRyxXQUFXO2lCQUN0QixNQUFNLENBQUMsQ0FBQyxHQUFFLGFBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2lCQUNqQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUQsT0FBTyxPQUFPLENBQUM7UUFDbkIsQ0FBQztLQUFBO0NBRUo7QUFDRCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMiLCJmaWxlIjoiLi9zcmMvbW9kZWxzL2NhcnQudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvZHVjdCBmcm9tIFwiLi9wcm9kdWN0XCI7XHJcbmltcG9ydCB7cHJvbWlzZXMgYXMgZnMsIGV4aXN0c1N5bmN9IGZyb20gJ2ZzJztcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IFByb2R1Y3RzIGZyb20gXCIuL3Byb2R1Y3RzXCI7XHJcblxyXG5jb25zdCBmaWxlbmFtZSA9IHBhdGgucmVzb2x2ZSgnZGF0YScsICdjYXJ0Lmpzb24nKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcnR7XHJcbiAgICBwcm9kdWN0c0lkOntbaWQ6c3RyaW5nXTpudW1iZXJ9ID0ge307XHJcbiAgICB0b3RhbFByaWNlOm51bWJlciA9IDA7XHJcbiAgICBzdGF0aWMgYXN5bmMgX0luaXQoKXtcclxuICAgICAgICBpZighZXhpc3RzU3luYyhmaWxlbmFtZSkpe1xyXG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUoZmlsZW5hbWUsIEpTT04uc3RyaW5naWZ5KG5ldyBDYXJ0KCkpKTsgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIGFzeW5jIGxvYWRDYXJ0KCk6UHJvbWlzZTxDYXJ0PntcclxuICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZSgoYXdhaXQgZnMucmVhZEZpbGUoZmlsZW5hbWUpKS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zdCBjYXJ0ID0gbmV3IENhcnQoKTtcclxuICAgICAgICBjYXJ0LnByb2R1Y3RzSWQgPSBkYXRhLnByb2R1Y3RzSWQ7XHJcbiAgICAgICAgY2FydC50b3RhbFByaWNlID0gZGF0YS50b3RhbFByaWNlO1xyXG4gICAgICAgIHJldHVybiBjYXJ0O1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgc2F2ZUNhcnQoY2FydDpDYXJ0KXtcclxuICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUoZmlsZW5hbWUsIEpTT04uc3RyaW5naWZ5KGNhcnQpKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBhc3luYyBhZGQocHJvZHVjdDogUHJvZHVjdCl7XHJcbiAgICAgICAgY29uc3QgY2FydCA9IGF3YWl0IENhcnQubG9hZENhcnQoKTtcclxuICAgICAgICBjYXJ0LnByb2R1Y3RzSWRbcHJvZHVjdC5pZF0gPSAxICsgKGNhcnQucHJvZHVjdHNJZFtwcm9kdWN0LmlkXT8xOjApOyAgXHJcbiAgICAgICAgY2FydC50b3RhbFByaWNlICs9IHByb2R1Y3QucHJpY2U7XHJcbiAgICAgICAgYXdhaXQgQ2FydC5zYXZlQ2FydChjYXJ0KTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBhc3luYyByZW1vdmVQcm9kdWN0KHByb2R1Y3Q6IFByb2R1Y3Qpe1xyXG4gICAgICAgIGNvbnN0IGNhcnQgPSBhd2FpdCBDYXJ0LmxvYWRDYXJ0KCk7XHJcbiAgICAgICAgaWYoY2FydC5wcm9kdWN0c0lkW3Byb2R1Y3QuaWRdID09PSB1bmRlZmluZWQgfHwgY2FydC5wcm9kdWN0c0lkW3Byb2R1Y3QuaWRdID09PSAwKXtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFUlJPUjogQ2FydCByZW1vdmUgLSBwcm9kdWN0IGlkIHVuZGVmaW5lZCBvciBlcXVhbCAwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhcnQucHJvZHVjdHNJZFtwcm9kdWN0LmlkXS0tO1xyXG4gICAgICAgIGNhcnQudG90YWxQcmljZSAtPSBwcm9kdWN0LnByaWNlO1xyXG4gICAgICAgIGlmKGNhcnQucHJvZHVjdHNJZFtwcm9kdWN0LmlkXSA9PT0gMClcclxuICAgICAgICAgICAgZGVsZXRlIGNhcnQucHJvZHVjdHNJZFtwcm9kdWN0LmlkXTsgXHJcbiAgICAgICAgYXdhaXQgQ2FydC5zYXZlQ2FydChjYXJ0KTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBhc3luYyByZW1vdmVQcm9kdWN0cyhpZDpzdHJpbmcsIHNpbmdsZVByaWNlOiBudW1iZXIpe1xyXG4gICAgICAgIGNvbnN0IGNhcnQgPSBhd2FpdCBDYXJ0LmxvYWRDYXJ0KCk7XHJcbiAgICAgICAgaWYoY2FydC5wcm9kdWN0c0lkW2lkXSA9PT0gdW5kZWZpbmVkIHx8IGNhcnQucHJvZHVjdHNJZFtpZF0gPT09IDApe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhcnQudG90YWxQcmljZSAtPSAoc2luZ2xlUHJpY2UqY2FydC5wcm9kdWN0c0lkW2lkXSk7XHJcbiAgICAgICAgZGVsZXRlIGNhcnQucHJvZHVjdHNJZFtpZF07XHJcbiAgICAgICAgYXdhaXQgQ2FydC5zYXZlQ2FydChjYXJ0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3RhdGljIGFzeW5jIGdldFByb2R1Y3RzKCk6UHJvbWlzZTx7cHJvZHVjdDogUHJvZHVjdCwgY250OiBudW1iZXJ9W10+e1xyXG4gICAgICAgIGNvbnN0IGNhcnQgPSBhd2FpdCB0aGlzLmxvYWRDYXJ0KClcclxuICAgICAgICBjb25zdCBhbGxQcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3RzLmZldGNoQWxsKCk7XHJcbiAgICAgICAgY29uc3QgY2FydFByb2R1Y3RzID0gbmV3IFNldChPYmplY3Qua2V5cyhjYXJ0LnByb2R1Y3RzSWQpKTtcclxuICAgICAgICBjb25zdCByZXN1bHRzID0gYWxsUHJvZHVjdHNcclxuICAgICAgICAgICAgLmZpbHRlcihhPT5jYXJ0UHJvZHVjdHMuaGFzKGEuaWQpKVxyXG4gICAgICAgICAgICAubWFwKHAgPT4gKHtwcm9kdWN0OiBwLCBjbnQ6IGNhcnQucHJvZHVjdHNJZFtwLmlkXX0pKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgIH1cclxuICAgIFxyXG59XHJcbkNhcnQuX0luaXQoKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/models/cart.ts\n");

/***/ }),

/***/ "./src/models/product.ts":
/*!*******************************!*\
  !*** ./src/models/product.ts ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Product; });\nclass Product {\r\n    constructor(params) {\r\n        this.id = '';\r\n        this.title = '';\r\n        this.price = 0;\r\n        this.description = '';\r\n        this.imgSrc = 'https://cdn.pixabay.com/photo/2016/03/31/20/51/book-1296045_960_720.png';\r\n        params.id && (this.id = params.id);\r\n        params.title && (this.title = params.title);\r\n        params.description && (this.description = params.description);\r\n        params.price && (this.price = params.price);\r\n        params.imgSrc && (this.imgSrc = params.imgSrc);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3Byb2R1Y3QudHM/YmFhMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQTtBQUFBO0FBQWUsTUFBTSxPQUFPO0lBT3hCLFlBQVksTUFBeUY7UUFOckcsT0FBRSxHQUFVLEVBQUUsQ0FBQztRQUNmLFVBQUssR0FBVSxFQUFFLENBQUM7UUFDbEIsVUFBSyxHQUFVLENBQUMsQ0FBQztRQUNqQixnQkFBVyxHQUFVLEVBQUUsQ0FBQztRQUN4QixXQUFNLEdBQVEseUVBQXlFLENBQUM7UUFHcEYsTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25DLE1BQU0sQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM1QyxNQUFNLENBQUMsV0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDOUQsTUFBTSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVDLE1BQU0sQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNuRCxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvbW9kZWxzL3Byb2R1Y3QudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVUkwgfSBmcm9tICd1cmwnO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjR9IGZyb20gJ3V1aWQnO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2R1Y3R7XHJcbiAgICBpZDpzdHJpbmcgPSAnJztcclxuICAgIHRpdGxlOnN0cmluZyA9ICcnO1xyXG4gICAgcHJpY2U6bnVtYmVyID0gMDtcclxuICAgIGRlc2NyaXB0aW9uOnN0cmluZyA9ICcnO1xyXG4gICAgaW1nU3JjOnN0cmluZz0naHR0cHM6Ly9jZG4ucGl4YWJheS5jb20vcGhvdG8vMjAxNi8wMy8zMS8yMC81MS9ib29rLTEyOTYwNDVfOTYwXzcyMC5wbmcnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtczoge3RpdGxlPzpzdHJpbmcsIGRlc2NyaXB0aW9uPzpzdHJpbmcsIHByaWNlPzpudW1iZXIsIGltZ1NyYz86IHN0cmluZywgaWQ/OiBzdHJpbmd9KXtcclxuICAgICAgICBwYXJhbXMuaWQgJiYgKHRoaXMuaWQgPSBwYXJhbXMuaWQpO1xyXG4gICAgICAgIHBhcmFtcy50aXRsZSAmJiAodGhpcy50aXRsZSA9IHBhcmFtcy50aXRsZSk7XHJcbiAgICAgICAgcGFyYW1zLmRlc2NyaXB0aW9uICYmICh0aGlzLmRlc2NyaXB0aW9uID0gcGFyYW1zLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICBwYXJhbXMucHJpY2UgJiYgKHRoaXMucHJpY2UgPSBwYXJhbXMucHJpY2UpO1xyXG4gICAgICAgIHBhcmFtcy5pbWdTcmMgJiYgKHRoaXMuaW1nU3JjID0gcGFyYW1zLmltZ1NyYyk7XHJcbiAgICB9ICAgXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/models/product.ts\n");

/***/ }),

/***/ "./src/models/products.ts":
/*!********************************!*\
  !*** ./src/models/products.ts ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Products; });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _product__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./product */ \"./src/models/product.ts\");\n/* harmony import */ var _cart__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cart */ \"./src/models/cart.ts\");\n/* harmony import */ var _util_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/database */ \"./src/util/database.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nconst filename = path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve('data', 'products.json');\r\nclass Products {\r\n    static rowToProduct(row) {\r\n        return new _product__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            id: row.id.toString(),\r\n            description: row.description,\r\n            imgSrc: row.imgSrc,\r\n            price: row.price,\r\n            title: row.title\r\n        });\r\n    }\r\n    static productWithoutId(product) {\r\n        const p = Object.assign({}, product);\r\n        delete p.id;\r\n        return p;\r\n    }\r\n    static loadProducts() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const [rows, fields] = yield _util_database__WEBPACK_IMPORTED_MODULE_3__[\"default\"].execute('SELECT * FROM products');\r\n            const products = rows.map(r => Products.rowToProduct(r));\r\n            return products;\r\n        });\r\n    }\r\n    static loadProduct(id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const [rows, fields] = yield _util_database__WEBPACK_IMPORTED_MODULE_3__[\"default\"].execute('SELECT * FROM products WHERE id=?', [Number(id)]);\r\n            return Products.rowToProduct(rows[0]);\r\n        });\r\n    }\r\n    static update(product, keys) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (keys === undefined) {\r\n                keys = Object.keys(this.productWithoutId(product));\r\n            }\r\n            const queryHelper = keys.map(key => `${key}=?`).join(',');\r\n            const args = keys.map(key => product[key]);\r\n            args.push(product.id);\r\n            yield _util_database__WEBPACK_IMPORTED_MODULE_3__[\"default\"].execute(`UPDATE products SET ${queryHelper} WHERE id=?`, args);\r\n        });\r\n    }\r\n    static add(p) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield _util_database__WEBPACK_IMPORTED_MODULE_3__[\"default\"].execute(\"INSERT INTO products(title,price,description,imgSrc) VALUES (?,?,?,?)\", Object.values(Products.productWithoutId(p)));\r\n        });\r\n    }\r\n    static remove(id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const removedProduct = yield Products.loadProduct(id);\r\n            yield _util_database__WEBPACK_IMPORTED_MODULE_3__[\"default\"].execute(\"DELETE FROM products WHERE id=?\", [Number(id)]);\r\n            yield _cart__WEBPACK_IMPORTED_MODULE_2__[\"default\"].removeProducts(id, removedProduct.price);\r\n        });\r\n    }\r\n    static get(id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const product = yield Products.loadProduct(id);\r\n            // if(product===undefined){\r\n            //     console.log(\"ERROR: Products.get <- undefined\");\r\n            //     throw new Error('ERROR: Products.get <- undefined');\r\n            // }\r\n            return product;\r\n        });\r\n    }\r\n    static fetchAll() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.loadProducts();\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3Byb2R1Y3RzLnRzP2Q5MzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QjtBQUNRO0FBQ047QUFDMEI7QUFHcEQsTUFBTSxRQUFRLEdBQUcsMkNBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBR3hDLE1BQU0sUUFBUTtJQUNqQixNQUFNLENBQUMsWUFBWSxDQUFDLEdBQU87UUFDL0IsT0FBTyxJQUFJLGdEQUFPLENBQUM7WUFDZixFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUU7WUFDckIsV0FBVyxFQUFFLEdBQUcsQ0FBQyxXQUFXO1lBQzVCLE1BQU0sRUFBRSxHQUFHLENBQUMsTUFBTTtZQUNsQixLQUFLLEVBQUUsR0FBRyxDQUFDLEtBQUs7WUFDaEIsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLO1NBQ25CLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDTyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBZTtRQUMzQyxNQUFNLENBQUMscUJBQU8sT0FBTyxDQUFDLENBQUM7UUFDdkIsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ1osT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRU8sTUFBTSxDQUFPLFlBQVk7O1lBQzdCLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsTUFBTSxzREFBb0IsQ0FBQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQztZQUNwRixNQUFNLFFBQVEsR0FBSSxJQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUUsU0FBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLE9BQU8sUUFBUSxDQUFDO1FBQ3BCLENBQUM7S0FBQTtJQUNPLE1BQU0sQ0FBTyxXQUFXLENBQUMsRUFBUzs7WUFDdEMsTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxNQUFNLHNEQUFvQixDQUFDLE9BQU8sQ0FDckQsbUNBQW1DLEVBQ25DLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQixPQUFPLFFBQVEsQ0FBQyxZQUFZLENBQUcsSUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEQsQ0FBQztLQUFBO0lBQ0QsTUFBTSxDQUFPLE1BQU0sQ0FBQyxPQUFlLEVBQUUsSUFBdUI7O1lBQ3hELElBQUcsSUFBSSxLQUFLLFNBQVMsRUFBQztnQkFDbEIsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFzQixDQUFDO2FBQzNFO1lBQ0QsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUUsSUFBRyxHQUFHLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN4RCxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRSxRQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUV0QixNQUFNLHNEQUFvQixDQUFDLE9BQU8sQ0FDOUIsdUJBQXVCLFdBQVcsYUFBYSxFQUMvQyxJQUFJLENBQUMsQ0FBQztRQUNkLENBQUM7S0FBQTtJQUNELE1BQU0sQ0FBTyxHQUFHLENBQUMsQ0FBUzs7WUFDdEIsTUFBTSxzREFBb0IsQ0FBQyxPQUFPLENBQzlCLHVFQUF1RSxFQUN2RSxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckQsQ0FBQztLQUFBO0lBQ0QsTUFBTSxDQUFPLE1BQU0sQ0FBQyxFQUFTOztZQUN6QixNQUFNLGNBQWMsR0FBRyxNQUFNLFFBQVEsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdEQsTUFBTSxzREFBb0IsQ0FBQyxPQUFPLENBQzlCLGlDQUFpQyxFQUNqQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEIsTUFBTSw2Q0FBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLEVBQUUsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hELENBQUM7S0FBQTtJQUNELE1BQU0sQ0FBTyxHQUFHLENBQUMsRUFBUzs7WUFDdEIsTUFBTSxPQUFPLEdBQUcsTUFBTSxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQy9DLDJCQUEyQjtZQUMzQix1REFBdUQ7WUFDdkQsMkRBQTJEO1lBQzNELElBQUk7WUFDSixPQUFPLE9BQU8sQ0FBQztRQUNuQixDQUFDO0tBQUE7SUFDRCxNQUFNLENBQU8sUUFBUTs7WUFDakIsT0FBTyxNQUFNLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNyQyxDQUFDO0tBQUE7Q0FFSiIsImZpbGUiOiIuL3NyYy9tb2RlbHMvcHJvZHVjdHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9wcm9kdWN0JztcclxuaW1wb3J0IENhcnQgZnJvbSAnLi9jYXJ0JztcclxuaW1wb3J0IFR1dG9yaWFsRGF0YWJhc2VQb29sIGZyb20gJy4uL3V0aWwvZGF0YWJhc2UnO1xyXG5pbXBvcnQgeyBzdHJpbmdpZnkgfSBmcm9tICdxdWVyeXN0cmluZyc7XHJcblxyXG5jb25zdCBmaWxlbmFtZSA9IHBhdGgucmVzb2x2ZSgnZGF0YScsICdwcm9kdWN0cy5qc29uJyk7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdHN7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByb3dUb1Byb2R1Y3Qocm93OmFueSl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9kdWN0KHtcclxuICAgICAgICAgICAgaWQ6IHJvdy5pZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcm93LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBpbWdTcmM6IHJvdy5pbWdTcmMsXHJcbiAgICAgICAgICAgIHByaWNlOiByb3cucHJpY2UsXHJcbiAgICAgICAgICAgIHRpdGxlOiByb3cudGl0bGVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgc3RhdGljIHByb2R1Y3RXaXRob3V0SWQocHJvZHVjdDpQcm9kdWN0KXtcclxuICAgICAgICBjb25zdCBwID0gey4uLnByb2R1Y3R9O1xyXG4gICAgICAgIGRlbGV0ZSBwLmlkO1xyXG4gICAgICAgIHJldHVybiBwO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBsb2FkUHJvZHVjdHMoKXtcclxuICAgICAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IFR1dG9yaWFsRGF0YWJhc2VQb29sLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gcHJvZHVjdHMnKTtcclxuICAgICAgICBjb25zdCBwcm9kdWN0cyA9IChyb3dzIGFzIEFycmF5PGFueT4pLm1hcChyPT5Qcm9kdWN0cy5yb3dUb1Byb2R1Y3QocikpO1xyXG4gICAgICAgIHJldHVybiBwcm9kdWN0cztcclxuICAgIH1cclxuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIGxvYWRQcm9kdWN0KGlkOnN0cmluZyl7XHJcbiAgICAgICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBUdXRvcmlhbERhdGFiYXNlUG9vbC5leGVjdXRlKFxyXG4gICAgICAgICAgICAnU0VMRUNUICogRlJPTSBwcm9kdWN0cyBXSEVSRSBpZD0/JyxcclxuICAgICAgICAgICAgW051bWJlcihpZCldKTtcclxuICAgICAgICByZXR1cm4gUHJvZHVjdHMucm93VG9Qcm9kdWN0KCAocm93cyBhcyBhbnkpWzBdKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBhc3luYyB1cGRhdGUocHJvZHVjdDpQcm9kdWN0LCBrZXlzPzooa2V5b2YgUHJvZHVjdClbXSl7IC8vLyB5b3UgY2FudCB1cGRhdGUgaWQhISFcclxuICAgICAgICBpZihrZXlzID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModGhpcy5wcm9kdWN0V2l0aG91dElkKHByb2R1Y3QpKSBhcyAoa2V5b2YgUHJvZHVjdClbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcXVlcnlIZWxwZXIgPSBrZXlzLm1hcChrZXk9PmAke2tleX09P2ApLmpvaW4oJywnKTtcclxuICAgICAgICBjb25zdCBhcmdzID0ga2V5cy5tYXAoa2V5PT5wcm9kdWN0W2tleV0pO1xyXG4gICAgICAgIGFyZ3MucHVzaChwcm9kdWN0LmlkKTtcclxuXHJcbiAgICAgICAgYXdhaXQgVHV0b3JpYWxEYXRhYmFzZVBvb2wuZXhlY3V0ZShcclxuICAgICAgICAgICAgYFVQREFURSBwcm9kdWN0cyBTRVQgJHtxdWVyeUhlbHBlcn0gV0hFUkUgaWQ9P2AsXHJcbiAgICAgICAgICAgIGFyZ3MpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGFzeW5jIGFkZChwOlByb2R1Y3Qpe1xyXG4gICAgICAgIGF3YWl0IFR1dG9yaWFsRGF0YWJhc2VQb29sLmV4ZWN1dGUoXHJcbiAgICAgICAgICAgIFwiSU5TRVJUIElOVE8gcHJvZHVjdHModGl0bGUscHJpY2UsZGVzY3JpcHRpb24saW1nU3JjKSBWQUxVRVMgKD8sPyw/LD8pXCIsXHJcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoUHJvZHVjdHMucHJvZHVjdFdpdGhvdXRJZChwKSkpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGFzeW5jIHJlbW92ZShpZDpzdHJpbmcpe1xyXG4gICAgICAgIGNvbnN0IHJlbW92ZWRQcm9kdWN0ID0gYXdhaXQgUHJvZHVjdHMubG9hZFByb2R1Y3QoaWQpO1xyXG4gICAgICAgIGF3YWl0IFR1dG9yaWFsRGF0YWJhc2VQb29sLmV4ZWN1dGUoXHJcbiAgICAgICAgICAgIFwiREVMRVRFIEZST00gcHJvZHVjdHMgV0hFUkUgaWQ9P1wiLFxyXG4gICAgICAgICAgICBbTnVtYmVyKGlkKV0pO1xyXG4gICAgICAgIGF3YWl0IENhcnQucmVtb3ZlUHJvZHVjdHMoaWQsIHJlbW92ZWRQcm9kdWN0LnByaWNlKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBhc3luYyBnZXQoaWQ6c3RyaW5nKXtcclxuICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdHMubG9hZFByb2R1Y3QoaWQpO1xyXG4gICAgICAgIC8vIGlmKHByb2R1Y3Q9PT11bmRlZmluZWQpe1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkVSUk9SOiBQcm9kdWN0cy5nZXQgPC0gdW5kZWZpbmVkXCIpO1xyXG4gICAgICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VSUk9SOiBQcm9kdWN0cy5nZXQgPC0gdW5kZWZpbmVkJyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiBwcm9kdWN0O1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGFzeW5jIGZldGNoQWxsKCl7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubG9hZFByb2R1Y3RzKCk7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/models/products.ts\n");

/***/ }),

/***/ "./src/routes/admin.ts":
/*!*****************************!*\
  !*** ./src/routes/admin.ts ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _controllers_admin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/admin */ \"./src/controllers/admin.ts\");\n\r\n\r\nconst adminRouter = Object(express__WEBPACK_IMPORTED_MODULE_0__[\"Router\"])();\r\nadminRouter.get('/add-product', _controllers_admin__WEBPACK_IMPORTED_MODULE_1__[\"getAddProduct\"]);\r\nadminRouter.get('/products', _controllers_admin__WEBPACK_IMPORTED_MODULE_1__[\"getAdminProducts\"]);\r\nadminRouter.post('/add-product', _controllers_admin__WEBPACK_IMPORTED_MODULE_1__[\"postAddProduct\"]);\r\nadminRouter.post('/delete-product/:id', _controllers_admin__WEBPACK_IMPORTED_MODULE_1__[\"postDeleteProduct\"]);\r\nadminRouter.get('/edit-product/:id', _controllers_admin__WEBPACK_IMPORTED_MODULE_1__[\"getEditProduct\"]);\r\nadminRouter.post('/edit-product/:id', _controllers_admin__WEBPACK_IMPORTED_MODULE_1__[\"postEditProduct\"]);\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (adminRouter);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL2FkbWluLnRzPzNmNTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBaUM7QUFDdUI7QUFFeEQsTUFBTSxXQUFXLEdBQUcsc0RBQU0sRUFBRSxDQUFDO0FBRTdCLFdBQVcsQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLGdFQUE2QixDQUFDLENBQUM7QUFDL0QsV0FBVyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsbUVBQWdDLENBQUMsQ0FBQztBQUMvRCxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxpRUFBOEIsQ0FBQyxDQUFDO0FBQ2pFLFdBQVcsQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsb0VBQWlDLENBQUM7QUFDMUUsV0FBVyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRSxpRUFBOEIsQ0FBQztBQUNwRSxXQUFXLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLGtFQUErQixDQUFDO0FBRXZELDBFQUFXLEVBQUMiLCJmaWxlIjoiLi9zcmMvcm91dGVzL2FkbWluLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0ICogYXMgQWRtaW5Db250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9hZG1pblwiO1xyXG5cclxuY29uc3QgYWRtaW5Sb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbmFkbWluUm91dGVyLmdldCgnL2FkZC1wcm9kdWN0JywgQWRtaW5Db250cm9sbGVyLmdldEFkZFByb2R1Y3QpO1xyXG5hZG1pblJvdXRlci5nZXQoJy9wcm9kdWN0cycsIEFkbWluQ29udHJvbGxlci5nZXRBZG1pblByb2R1Y3RzKTtcclxuYWRtaW5Sb3V0ZXIucG9zdCgnL2FkZC1wcm9kdWN0JywgQWRtaW5Db250cm9sbGVyLnBvc3RBZGRQcm9kdWN0KTtcclxuYWRtaW5Sb3V0ZXIucG9zdCgnL2RlbGV0ZS1wcm9kdWN0LzppZCcsIEFkbWluQ29udHJvbGxlci5wb3N0RGVsZXRlUHJvZHVjdClcclxuYWRtaW5Sb3V0ZXIuZ2V0KCcvZWRpdC1wcm9kdWN0LzppZCcsIEFkbWluQ29udHJvbGxlci5nZXRFZGl0UHJvZHVjdClcclxuYWRtaW5Sb3V0ZXIucG9zdCgnL2VkaXQtcHJvZHVjdC86aWQnLCBBZG1pbkNvbnRyb2xsZXIucG9zdEVkaXRQcm9kdWN0KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWRtaW5Sb3V0ZXI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/admin.ts\n");

/***/ }),

/***/ "./src/routes/shop.ts":
/*!****************************!*\
  !*** ./src/routes/shop.ts ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _controllers_shop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/shop */ \"./src/controllers/shop.ts\");\n\r\n\r\nconst shopRouter = Object(express__WEBPACK_IMPORTED_MODULE_0__[\"Router\"])();\r\nshopRouter.get('/', _controllers_shop__WEBPACK_IMPORTED_MODULE_1__[\"getIndex\"]);\r\nshopRouter.get('/products', _controllers_shop__WEBPACK_IMPORTED_MODULE_1__[\"getProducts\"]);\r\nshopRouter.get('/products/:id', _controllers_shop__WEBPACK_IMPORTED_MODULE_1__[\"getProduct\"]);\r\nshopRouter.get('/cart', _controllers_shop__WEBPACK_IMPORTED_MODULE_1__[\"getCart\"]);\r\nshopRouter.post('/cart', _controllers_shop__WEBPACK_IMPORTED_MODULE_1__[\"postCart\"]);\r\nshopRouter.get('/checkout', _controllers_shop__WEBPACK_IMPORTED_MODULE_1__[\"getCheckout\"]);\r\nshopRouter.get('/orders', _controllers_shop__WEBPACK_IMPORTED_MODULE_1__[\"getOrders\"]);\r\nshopRouter.post('/cart-delete-item', _controllers_shop__WEBPACK_IMPORTED_MODULE_1__[\"postCartDeleteItem\"]);\r\nshopRouter.post('/cart-delete-items', _controllers_shop__WEBPACK_IMPORTED_MODULE_1__[\"postCartDeleteItems\"]);\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (shopRouter);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3Nob3AudHM/M2ZjNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFpQztBQUNxQjtBQUN0RCxNQUFNLFVBQVUsR0FBRyxzREFBTSxFQUFFLENBQUM7QUFFNUIsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsMERBQXVCLENBQUMsQ0FBQztBQUM3QyxVQUFVLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSw2REFBMEIsQ0FBQyxDQUFDO0FBQ3hELFVBQVUsQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLDREQUF5QixDQUFDLENBQUM7QUFDM0QsVUFBVSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUseURBQXNCLENBQUMsQ0FBQztBQUNoRCxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSwwREFBdUIsQ0FBQyxDQUFDO0FBQ2xELFVBQVUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLDZEQUEwQixDQUFDLENBQUM7QUFDeEQsVUFBVSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsMkRBQXdCLENBQUMsQ0FBQztBQUNwRCxVQUFVLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLG9FQUFpQyxDQUFDLENBQUM7QUFDeEUsVUFBVSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxxRUFBa0MsQ0FBQyxDQUFDO0FBQzNELHlFQUFVLEVBQUMiLCJmaWxlIjoiLi9zcmMvcm91dGVzL3Nob3AudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgKiBhcyBTaG9wQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvc2hvcFwiO1xyXG5jb25zdCBzaG9wUm91dGVyID0gUm91dGVyKCk7XHJcblxyXG5zaG9wUm91dGVyLmdldCgnLycsIFNob3BDb250cm9sbGVyLmdldEluZGV4KTtcclxuc2hvcFJvdXRlci5nZXQoJy9wcm9kdWN0cycsIFNob3BDb250cm9sbGVyLmdldFByb2R1Y3RzKTtcclxuc2hvcFJvdXRlci5nZXQoJy9wcm9kdWN0cy86aWQnLCBTaG9wQ29udHJvbGxlci5nZXRQcm9kdWN0KTtcclxuc2hvcFJvdXRlci5nZXQoJy9jYXJ0JywgU2hvcENvbnRyb2xsZXIuZ2V0Q2FydCk7XHJcbnNob3BSb3V0ZXIucG9zdCgnL2NhcnQnLCBTaG9wQ29udHJvbGxlci5wb3N0Q2FydCk7XHJcbnNob3BSb3V0ZXIuZ2V0KCcvY2hlY2tvdXQnLCBTaG9wQ29udHJvbGxlci5nZXRDaGVja291dCk7XHJcbnNob3BSb3V0ZXIuZ2V0KCcvb3JkZXJzJywgU2hvcENvbnRyb2xsZXIuZ2V0T3JkZXJzKTtcclxuc2hvcFJvdXRlci5wb3N0KCcvY2FydC1kZWxldGUtaXRlbScsIFNob3BDb250cm9sbGVyLnBvc3RDYXJ0RGVsZXRlSXRlbSk7XHJcbnNob3BSb3V0ZXIucG9zdCgnL2NhcnQtZGVsZXRlLWl0ZW1zJywgU2hvcENvbnRyb2xsZXIucG9zdENhcnREZWxldGVJdGVtcyk7XHJcbmV4cG9ydCBkZWZhdWx0IHNob3BSb3V0ZXI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/shop.ts\n");

/***/ }),

/***/ "./src/util/database.ts":
/*!******************************!*\
  !*** ./src/util/database.ts ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mysql2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2 */ \"mysql2\");\n/* harmony import */ var mysql2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql2__WEBPACK_IMPORTED_MODULE_0__);\n\r\n// Create the connection pool. The pool-specific settings are the defaults\r\nconst TutorialDatabasePool = mysql2__WEBPACK_IMPORTED_MODULE_0__[\"createPool\"]({\r\n    host: 'localhost',\r\n    user: 'root',\r\n    database: 'tutorial',\r\n    waitForConnections: true,\r\n    connectionLimit: 10,\r\n    queueLimit: 0,\r\n    password: 'Qweqwe12321'\r\n}).promise();\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TutorialDatabasePool);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9kYXRhYmFzZS50cz9iNmMyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFnQztBQUVoQywwRUFBMEU7QUFDMUUsTUFBTSxvQkFBb0IsR0FBRyxpREFBZ0IsQ0FBQztJQUM1QyxJQUFJLEVBQUUsV0FBVztJQUNqQixJQUFJLEVBQUUsTUFBTTtJQUNaLFFBQVEsRUFBRSxVQUFVO0lBQ3BCLGtCQUFrQixFQUFFLElBQUk7SUFDeEIsZUFBZSxFQUFFLEVBQUU7SUFDbkIsVUFBVSxFQUFFLENBQUM7SUFDYixRQUFRLEVBQUUsYUFBYTtDQUN4QixDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7QUFFRSxtRkFBb0IsRUFBQyIsImZpbGUiOiIuL3NyYy91dGlsL2RhdGFiYXNlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbXlzcWwgZnJvbSAnbXlzcWwyJztcclxuIFxyXG4vLyBDcmVhdGUgdGhlIGNvbm5lY3Rpb24gcG9vbC4gVGhlIHBvb2wtc3BlY2lmaWMgc2V0dGluZ3MgYXJlIHRoZSBkZWZhdWx0c1xyXG5jb25zdCBUdXRvcmlhbERhdGFiYXNlUG9vbCA9IG15c3FsLmNyZWF0ZVBvb2woe1xyXG4gIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gIHVzZXI6ICdyb290JyxcclxuICBkYXRhYmFzZTogJ3R1dG9yaWFsJyxcclxuICB3YWl0Rm9yQ29ubmVjdGlvbnM6IHRydWUsXHJcbiAgY29ubmVjdGlvbkxpbWl0OiAxMCxcclxuICBxdWV1ZUxpbWl0OiAwLFxyXG4gIHBhc3N3b3JkOiAnUXdlcXdlMTIzMjEnXHJcbn0pLnByb21pc2UoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFR1dG9yaWFsRGF0YWJhc2VQb29sOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/util/database.ts\n");

/***/ }),

/***/ "body-parser":
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"body-parser\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiPzgxODgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiYm9keS1wYXJzZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///body-parser\n");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCI/MjJmZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJleHByZXNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///express\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///fs\n");

/***/ }),

/***/ "mysql2":
/*!*************************!*\
  !*** external "mysql2" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mysql2\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJteXNxbDJcIj9lZWE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Im15c3FsMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm15c3FsMlwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mysql2\n");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJwYXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///path\n");

/***/ })

/******/ });